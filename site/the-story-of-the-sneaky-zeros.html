<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="icon" type="image/x-icon" href="./static/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="color-scheme" content="light dark" />
    <meta name="generator" content="Marmite" />
    
<meta property="og:title" content="The story of the sneaky zeros">

<meta property="og:description" content="For my master’s project, I was using a dataset which provided me with a large collection of LLM outp...">


<meta property="og:url" content="https://YOURUSER.github.io/blog/the-story-of-the-sneaky-zeros.html">

<meta property="og:type" content="article">
<meta property="og:site_name" content="Your Blog">

<meta property="article:published_time" content=" 2025-01-02T00:00:00+00:00">



<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://YOURUSER.github.io/blog/the-story-of-the-sneaky-zeros.html"
    },
    "url": "https://YOURUSER.github.io/blog/the-story-of-the-sneaky-zeros.html",
    "headline": "The story of the sneaky zeros",
    "description": "For my master’s project, I was using a dataset which provided me with a large collection of LLM output text, alongside a numerical label ind...",
    
    
    "publisher": {
        "@type": "Organization",
        "name": "Your Blog",
        "logo": {
            "@type": "ImageObject",
            "url": "https://YOURUSER.github.io/blog/"
        }
    },
    "datePublished": "2025-01-02T00:00:00+00:00"
}
</script>


    <title>The story of the sneaky zeros | Your Blog</title>
    <link rel="stylesheet" type="text/css" href="./static/pico.min.css">
    <link rel="stylesheet" type="text/css" href="./static/marmite.css">
    
    <link rel="stylesheet" type="text/css" href="./static/custom.css">
    
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.10.0/styles/github.min.css" id="highlightjs-theme" />



    <link rel="alternate" type="application/rss+xml" title="index" href="index.rss">
    <link rel="alternate" type="application/rss+xml" title="tag: blog" href="tag-blog.rss">
    <link rel="alternate" type="application/rss+xml" title="tag: marmite" href="tag-marmite.rss">
    <link rel="alternate" type="application/rss+xml" title="tag: null values" href="tag-null-values.rss">
    <link rel="alternate" type="application/rss+xml" title="tag: example" href="tag-example.rss">
    <link rel="alternate" type="application/rss+xml" title="tag: zero-values" href="tag-zero-values.rss">
    <link rel="alternate" type="application/rss+xml" title="tag: test" href="tag-test.rss">
    <link rel="alternate" type="application/rss+xml" title="tag: welcome" href="tag-welcome.rss">
    <link rel="alternate" type="application/rss+xml" title="tag: fancycompanyname" href="tag-fancycompanyname.rss">
    <link rel="alternate" type="application/rss+xml" title="year: 2025" href="archive-2025.rss">
    <link rel="alternate" type="application/rss+xml" title="year: 2024" href="archive-2024.rss">
    

    
    
    
</head>
<body>
    
    <main class="container">
        
        <header class="header-content">
            <nav class="header-nav">
                <ul class="header-name">
                    <li>
                        <hgroup>
                            <h2><a href="./" class="contrast">Your Blog</a></h2>
                             <p>Things you talk about</p> 
                        </hgroup>
                    </li>
                </ul>
                <button id="menu-toggle" class="hamburger">&#9776;</button>
                
                <ul class="header-menu" id="header-menu">
                    
                      
                      
                    <li>
                        
                        <a class="menu-item secondary"  href="./about.html">About</a>
                        
                    </li>
                    
                      
                      
                    <li>
                        
                        <a class="menu-item secondary"  href="./pages.html">Pages</a>
                        
                    </li>
                    
                      
                      
                    <li>
                        
                        <a class="menu-item secondary"  href="./tags.html">Tags</a>
                        
                    </li>
                    
                      
                      
                    <li>
                        
                        <a class="menu-item secondary"  href="https://mastodon.social/@YOURUSER" target="_blank" >Follow me</a>
                        
                    </li>
                    
                      
                      
                    <li>
                        
                        <a class="menu-item secondary"  href="https://github.com/rochacbruno/marmite" target="_blank" >Github</a>
                        
                    </li>
                    
                    <li><span class="theme-toggle secondary" title="dark mode">&#9789;</span></li>
                    
                    <div class="underline"></div>
                </ul>
            </nav>
            
        </header>
        
        <section class="main-content">
            



<article>

  


<div class="content-title" id="title">
    <h1>The story of the sneaky zeros</h1> 
    


<span class="content-date">
    <small> Jan  2, 2025 - &#10710; 3 min</small>
</span>

</div>

  

  <div class="content-html"><p>For my master’s project, I was using a dataset which provided me with a large collection of LLM output text, alongside a numerical label indicating how significant of a hallucination was contained in the text (the consistency rating) for some of the entries. It was a neatly organised table (or so it appeared), with columns dedicated to all sorts of interesting metrics. Everything seemed fine at first glance. But first glances can apparently be very deceptive!</p>
<p>The goal was simple: calculate the average consistency rating for each category and draw some profound insights. Sounds easy, right? I wrote the SQL query with the confidence of someone who had yet to be betrayed by their own dataset. Seconds later, the results appeared, and something looked... off.</p>
<p>One category had an average consistency rating so low that it felt like the LLM had been purposely trying to spread disinformation. “Surely that can’t be right,” I thought. But who was I to argue with the numbers?</p>
<h1><a href="#the-suspicion-sets-in" aria-hidden="true" class="anchor" id="the-suspicion-sets-in"></a>The suspicion sets in</h1>
<p>After double-checking my query and confirming I had the right column, the confusion began to set in. Not wanting to accept defeat, I began looking through the dataset thoroughly. Row by row, everything was looking perfect, until I spotted them: the zeros. Now you may be thinking &quot;Well zeros are normal, right? They mean no consistency.&quot; But as I kept scrolling, something clicked. Why were some entries NULL and others explictly zero? And why were entries which seemed to be factually correct being marked with a zero consistency rating? What kind of prank was this? Who thought it would be a good idea to mix NULLs and zeros like that and set out to ruin my computation?</p>
<h1><a href="#the-aftermath" aria-hidden="true" class="anchor" id="the-aftermath"></a>The aftermath</h1>
<p>For those unfamiliar with the subtle art of SQL averages, here's the twist: NULL values are ignored in calculations, while zeros are not. So when my dataset tossed in a few stealthy zeros alongside the NULLs, it dragged the average consistency rating straight into the abyss. Sadly, since there were some legitimate zero-consistency examples in the database, I had to abandon the dataset in favour of a smaller, but more functional, dataset.</p>
<h1><a href="#lessons-learned" aria-hidden="true" class="anchor" id="lessons-learned"></a>Lessons learned</h1>
<ol>
<li><strong>Never blindly trust your data.</strong> It can be out to get you!</li>
<li><strong>Zeros and NULLs are not the same.</strong> They may look innocent, but one will quietly step aside while the other ruins your calculations.</li>
<li><strong>Manual inspection can be very valuable.</strong> Even a quick skim-through of the dataset can sometimes reveal important information about your dataset.</li>
</ol>
<h1><a href="#data-snippet" aria-hidden="true" class="anchor" id="data-snippet"></a>Data Snippet</h1>
<table>
<thead>
<tr>
<th>Text</th>
<th>Consistency</th>
</tr>
</thead>
<tbody>
<tr>
<td>Usain Bolt will compete at the relay championship on May 2 and 3 ...</td>
<td>1.67</td>
</tr>
<tr>
<td>Serena Williams beat Sara Errani 4-6 7-6 ...</td>
<td>2.67</td>
</tr>
<tr>
<td>Buckingham Palace guard slipped on manhole cover in front of hundreds ...</td>
<td>0</td>
</tr>
<tr>
<td>Brazilian coach Ze Maria was fired on Wednesday after poor run ...</td>
<td>2.33</td>
</tr>
<tr>
<td>Chipotle has decided to tap into the $70 billion food delivery market ...</td>
<td>NULL</td>
</tr>
</tbody>
</table>
<p>The statement &quot;Buckingham Palace guard slipped on manhole cover...&quot; is in fact consistent (should be NULL)! See: <a href="https://www.youtube.com/watch?v=cqmG5JWLRag">https://www.youtube.com/watch?v=cqmG5JWLRag</a></p>
</div>
  
  <footer class="data-tags-footer">

    <div class="content-authors-flex">
      <div class="content-authors-full">
        

      </div>

      <div class="date-tags-container">
        <div class="content-date">
          


<span class="content-date">
    <small> Jan  2, 2025 - &#10710; 3 min</small>
</span>

        </div>

        <ul class="content-tags">
          
          <li><a href="./tag-blog.html">blog</a></li>
          
          <li><a href="./tag-null-values.html">null values</a></li>
          
          <li><a href="./tag-zero-values.html">zero-values</a></li>
          
        </ul>
      </div>
    </div>
  </footer>
  
</article>





  
  
  
  
  <article>
    Related blog content
    <ul>
      
      
      
      
      <li><a href="./bad-naming-is-bad.html">Bad naming is bad</a></li>
      
    </ul>
  </article>
  






        </section>
        
        <footer class="footer-content grid">
            <div>Powered by <a href="https://github.com/rochacbruno/marmite">Marmite</a> | <small><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC-BY_NC-SA</a></small></div>
            
        </footer>
        
    </main>

    <script src="./static/marmite.js"></script>
    <script src="./static/custom.js"></script>
    
    
    
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.10.0/highlight.min.js"></script>
<script>
  hljs.highlightAll();
</script>



</body>
</html>
